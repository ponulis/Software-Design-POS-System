openapi: 3.0.0
info:
  title: Point of Sale System
  version: 1.0.0
  description: >
    A unified platform for order management, appointment scheduling, and payment processing.

paths:
  /appointments:
    post:
      summary: Create Appointment
      description: Create a new appointment
      operationId: createAppointment
      requestBody:
        description: Appointment details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Appointment'
      responses:
        '201':
          description: Successfully created appointment
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Appointment.jsonId'
        '400':
          description: Invalid input
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      summary: Get All Appointments
      description: Retrieve all appointments
      operationId: getAllAppointments
      responses:
        '200':
          description: List of appointments
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Appointment.jsonId'
        '404':
          description: Appointments not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /appointments/{appointmentId}:
    get:
      summary: Get Appointment by ID
      description: Retrieve appointment by ID
      operationId: getAppointmentById
      parameters:
        - name: appointmentId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Appointment details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Appointment.jsonId'
        '404':
          description: Appointment not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: Modify Appointment
      description: Modify appointment details
      operationId: modifyAppointment
      parameters:
        - name: appointmentId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        description: Appointment fields to modify
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: '#/components/schemas/Appointment'
      responses:
        '200':
          description: Successfully modified appointment
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Appointment.jsonId'
        '400':
          description: Invalid input
        '404':
          description: Appointment not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete Appointment
      description: Delete an appointment
      operationId: deleteAppointment
      parameters:
        - name: appointmentId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Successfully deleted appointment
        '400':
          description: Invalid input
        '404':
          description: Appointment not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /payments:
    post:
      summary: Create Payment
      description: Create a new payment
      operationId: createPayment
      requestBody:
        description: Payment details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Payment'
      responses:
        '201':
          description: Successfully created payment
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment.jsonId'
        '400':
          description: Invalid input
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      summary: Get All Payments
      description: Retrieve all payments
      operationId: getAllPayments
      responses:
        '200':
          description: List of payments
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Payment.jsonId'
        '404':
          description: Payments not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /payments/{paymentId}:
    get:
      summary: Get Payment by ID
      description: Retrieve payment by ID
      operationId: getPaymentById
      parameters:
        - name: paymentId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Payment details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment.jsonId'
        '404':
          description: Payment not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete Payment
      description: Delete a payment
      operationId: deletePayment
      parameters:
        - name: paymentId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Successfully deleted payment
        '400':
          description: Invalid input
        '404':
          description: Payment not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /employees:
    post:
      summary: Create Employee
      description: Create a new employee
      operationId: createEmployee
      requestBody:
        description: Employee details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Employee'
      responses:
        '201':
          description: Successfully created employee
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Employee.jsonId'
        '400':
          description: Invalid input
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      summary: Get All Employees
      description: Retrieve all employees
      operationId: getAllEmployees
      responses:
        '200':
          description: List of employees
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Employee.jsonId'
        '404':
          description: Employees not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /employees/{employeeId}:
    get:
      summary: Get Employee by ID
      description: Retrieve employee by ID
      operationId: getEmployeeById
      parameters:
        - name: employeeId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Employee details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Employee.jsonId'
        '404':
          description: Employee not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: Modify Employee
      description: Modify employee details
      operationId: modifyEmployee
      parameters:
        - name: employeeId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        description: Employee fields to modify
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: '#/components/schemas/Employee'
      responses:
        '200':
          description: Successfully modified employee
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Employee.jsonId'
        '400':
          description: Invalid input
        '404':
          description: Employee not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete Employee
      description: Delete an employee
      operationId: deleteEmployee
      parameters:
        - name: employeeId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Successfully deleted employee
        '400':
          description: Invalid input
        '404':
          description: Employee not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /orders:
    post:
      summary: Create Order
      description: Create a new order
      operationId: createOrder
      requestBody:
        description: Order details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Order'
      responses:
        '201':
          description: Successfully created order
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order.jsonId'
        '400':
          description: Invalid input
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      summary: Get All Orders
      description: Retrieve all orders
      operationId: getAllOrders
      responses:
        '200':
          description: List of orders
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Order.jsonId'
        '404':
          description: Orders not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /orders/{orderId}:
    get:
      summary: Get Order by ID
      description: Retrieve order by ID
      operationId: getOrderById
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Order details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order.jsonId'
        '404':
          description: Order not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: Modify Order
      description: Modify order details
      operationId: modifyOrder
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        description: Order fields to modify
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: '#/components/schemas/Order'
      responses:
        '200':
          description: Successfully modified order
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order.jsonId'
        '400':
          description: Invalid input
        '404':
          description: Order not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete Order
      description: Delete an order
      operationId: deleteOrder
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Successfully deleted order
        '400':
          description: Invalid input
        '404':
          description: Order not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /order-items:
    post:
      summary: Create Order Item
      description: Create a new order item
      operationId: createOrderItem
      requestBody:
        description: Order item details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderItem'
      responses:
        '201':
          description: Successfully created order item
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderItem.jsonId'
        '400':
          description: Invalid input
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      summary: Get All Order Items
      description: Retrieve all order items
      operationId: getAllOrderItems
      responses:
        '200':
          description: List of order items
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/OrderItem.jsonId'
        '404':
          description: Order items not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /order-items/{orderItemId}:
    get:
      summary: Get Order Item by ID
      description: Retrieve order item by ID
      operationId: getOrderItemById
      parameters:
        - name: orderItemId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Order item details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderItem.jsonId'
        '404':
          description: Order item not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: Modify Order Item
      description: Modify order item details
      operationId: modifyOrderItem
      parameters:
        - name: orderItemId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        description: Order item fields to modify
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: '#/components/schemas/OrderItem'
      responses:
        '200':
          description: Successfully modified order item
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderItem.jsonId'
        '400':
          description: Invalid input
        '404':
          description: Order item not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete Order Item
      description: Delete an order item
      operationId: deleteOrderItem
      parameters:
        - name: orderItemId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Successfully deleted order item
        '400':
          description: Invalid input
        '404':
          description: Order item not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /menu-items:
    post:
      summary: Create Menu Item
      description: Create a new menu item
      operationId: createMenuItem
      requestBody:
        description: Menu item details
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MenuItem'
      responses:
        '201':
          description: Successfully created menu item
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MenuItem.jsonId'
        '400':
          description: Invalid input
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      summary: Get All Menu Items
      description: Retrieve all menu items
      operationId: getAllMenuItems
      responses:
        '200':
          description: List of menu items
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MenuItem.jsonId'
        '404':
          description: Menu items not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /menu-items/{menuItemId}:
    get:
      summary: Get Menu Item by ID
      description: Retrieve menu item by ID
      operationId: getMenuItemById
      parameters:
        - name: menuItemId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Menu item details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MenuItem.jsonId'
        '404':
          description: Menu item not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: Modify Menu Item
      description: Modify menu item details
      operationId: modifyMenuItem
      parameters:
        - name: menuItemId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        description: Menu item fields to modify
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: '#/components/schemas/MenuItem'
      responses:
        '200':
          description: Successfully modified menu item
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MenuItem.jsonId'
        '400':
          description: Invalid input
        '404':
          description: Menu item not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete Menu Item
      description: Delete a menu item
      operationId: deleteMenuItem
      parameters:
        - name: menuItemId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Successfully deleted menu item
        '400':
          description: Invalid input
        '404':
          description: Menu item not found
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

components:
  schemas:
    Appointment:
      type: object
      properties:
        date:
          type: string
          format: date-time
        customerName:
          type: string
        customerPhone:
          type: string
        notes:
          type: string
    Appointment.jsonId:
      type: object
      properties:
        id:
          type: integer
          format: int64
        date:
          type: string
          format: date-time
        customerName:
          type: string
        customerPhone:
          type: string
        notes:
          type: string
    Payment:
      type: object
      properties:
        amount:
          type: number
          format: float
        method:
          type: string
          enum: [Cash, Card]
        paidAt:
          type: string
          format: date-time
        createdBy:
          type: integer
          format: int64
    Payment.jsonId:
      type: object
      properties:
        id:
          type: integer
          format: int64
        amount:
          type: number
          format: float
        method:
          type: string
          enum: [Cash, Card]
        paidAt:
          type: string
          format: date-time
        createdBy:
          type: integer
          format: int64
    Employee:
      type: object
      properties:
        name:
          type: string
        password:
          type: string
        phone:
          type: string
    Employee.jsonId:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        password:
          type: string
        phone:
          type: string
    Order:
      type: object
      properties:
        spotId:
          type: integer
          format: int64
        createdBy:
          type: integer
          format: int64
        items:
          type: array
          items:
            $ref: '#/components/schemas/OrderItem'
        subTotal:
          type: number
          format: float
        discount:
          type: number
          format: float
        tax:
          type: number
          format: float
        updatedAt:
          type: string
          format: date-time
        status:
          type: string
          enum: [Draft, Placed, Paid, Cancelled]
    Order.jsonId:
      type: object
      properties:
        id:
          type: integer
          format: int64
        spotId:
          type: integer
          format: int64
        createdBy:
          type: integer
          format: int64
        items:
          type: array
          items:
            $ref: '#/components/schemas/OrderItem'
        subTotal:
          type: number
          format: float
        discount:
          type: number
          format: float
        tax:
          type: number
          format: float
        updatedAt:
          type: string
          format: date-time
        status:
          type: string
          enum: [Draft, Placed, Paid, Cancelled]
    OrderItem:
      type: object
      properties:
        menuId:
          type: integer
          format: int64
        quantity:
          type: integer
          format: int64
        notes:
          type: string
        price:
          type: number
          format: float
    OrderItem.jsonId:
      type: object
      properties:
        id:
          type: integer
          format: int64
        menuId:
          type: integer
          format: int64
        quantity:
          type: integer
          format: int64
        notes:
          type: string
        price:
          type: number
          format: float
    MenuItem:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        price:
          type: number
          format: float
        tags:
          type: array
          items:
            type: string
        available:
          type: boolean
    MenuItem.jsonId:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
        price:
          type: number
          format: float
        tags:
          type: array
          items:
            type: string
        available:
          type: boolean
    Error:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
      required:
        - code
        - message

